<script type="text/discourse-plugin" version="0.4">
const { iconNode } = require("discourse-common/lib/icon-library");
api.decorateWidget("header-icons:before", helper => {
  var hlt = settings.Ardour_links;
  const alinks = hlt.split("|").map(i => {
    var seg = $.map(i.split(","), $.trim);
    return helper.h("li.header.ardour", [
      helper.h(
        "a.icon.btn-flat",
        {
          href: seg[1],
          title: seg[0],
          style: "width:auto;"
        },
        seg[0]
      )
    ]);
  });
  alinks.push(
    helper.h('li.header.ardour',
      [ helper.h('a.icon.btn-flat',
        { href:'https://ardour.org/', title: 'Home' },
        iconNode("globe"))
      ]
    )
  );
  return alinks;
});

api.decorateWidget('hamburger-menu:footerLinks', () => {
  var hlt = 'Ardour-Frontpage,https://ardour.org|'+settings.Ardour_links;
  return hlt.split("|").map(i => {
    var seg = $.map(i.split(","), $.trim);
    return { href: seg[1], rawLabel: seg[0] }
  });
});

</script>
